\chapter{Analysis}
\label{cap:analysis}
In this chapter we consider the time performance of our project. We will focus on the difference and the speed-up between the sequential version, described in Chapter~\ref{cap:sequential}, and the parallel version, described in Chapter~\ref{cap:parallel}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Sequential}
Here we evaluate the performance of the sequential implementation of the program.

\subsection{Arena Allocator}
With this \href{https://downloads.wortschatz-leipzig.de/corpora/eng_news_2024_1M.tar.gz}{test input file} we obtain a completion time of about 18 seconds. After the implementation that allows us to allocate blocks of contiguous memory, we obtain a total execution time of about 10 seconds. This is a huge improvement in our performance.

We see also the benefit of this approach during the freeing of the hash table. In the first version we took around 2 seconds, while in the final version the free is irrelevant with 0.0027 seconds.

We saw the same effect also using the profiler. In the first version our code spent practically the whole time in system call operations (i.e., \texttt{malloc}); with the second approach the main time is spent in the \texttt{add\_gram} operation.

\subsection{Time Analysis}
Now we see the performance on the final test case.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Parallel}